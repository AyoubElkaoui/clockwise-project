# Clockwise Backend - Docker Compose for Windows Server 2022
services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile.windows
    container_name: clockwise-backend
    ports:
      - "8080:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - ASPNETCORE_URLS=http://+:8080
      - SEED_ON_START=true
      - DatabaseType=firebird
      - ConnectionStrings__DefaultConnection=Database=C:/app/CLOCKWISE.FDB;User=SYSDBA;Password=masterkey;Dialect=3;Charset=UTF8;ServerType=1;Pooling=false
    volumes:
      - clockwise-data:/app/data
      - ./database:/app/database
    restart: unless-stopped
    networks:
      - clockwise-network

networks:
  clockwise-network:
    driver: nat

volumes:
  clockwise-data:
